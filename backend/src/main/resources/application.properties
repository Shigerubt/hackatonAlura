spring.application.name=hackatonAlura

# Allow bean overriding to avoid duplicate bean name conflicts in new syncs
spring.main.allow-bean-definition-overriding=true

# JWT settings
jwt.secret=${JWT_SECRET:change-this-dev-secret-please-change-32-bytes-min}
jwt.expiration-minutes=${JWT_EXPIRATION_MINUTES:60}

# Initial admin seeding (dev/defaults)
admin.initial.email=${ADMIN_INITIAL_EMAIL:admin@local}
admin.initial.password=${ADMIN_INITIAL_PASSWORD:Admin123!}
admin.initial.full-name=${ADMIN_INITIAL_FULL_NAME:Initial Admin}

# Multipart limits for CSV batch uploads
spring.servlet.multipart.max-file-size=${MULTIPART_MAX_FILE_SIZE:20MB}
spring.servlet.multipart.max-request-size=${MULTIPART_MAX_REQUEST_SIZE:20MB}

# Security logging for diagnostics
logging.level.org.springframework.security=${SECURITY_LOG_LEVEL:DEBUG}
logging.level.com.alura.hackatonAlura.security=${SECURITY_LOG_LEVEL:DEBUG}


spring.datasource.hikari.data-source-properties.oracle.net.ssl_server_dn_match=true
spring.datasource.hikari.data-source-properties.oracle.net.ssl_version=1.2
spring.datasource.hikari.data-source-properties.oracle.net.authentication_services=(TCPS)

spring.datasource.hikari.data-source-properties.oracle.net.wallet_location=/app/wallet
spring.datasource.hikari.data-source-properties.oracle.net.wallet_type=PKCS12


spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

#MySQL
spring.datasource.url=jdbc:mysql://mysql:3306/hackaton?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=1234
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect


# -------------------
# H2 (base en memoria)
#spring.datasource.url=jdbc:h2:mem:hackaton;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
#spring.datasource.driverClassName=org.h2.Driver
#spring.datasource.username=sa
#spring.datasource.password=


# URL del microservicio de Data Science para predicciones de churn
# Si se deja vacío, el servicio utilizará un heurístico local de respaldo
churn.ds.url=${CHURN_DS_URL:}

# Consola H2
#spring.h2.console.enabled=true
#spring.h2.console.path=/h2-console






